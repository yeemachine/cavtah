(window.webpackJsonpapp=window.webpackJsonpapp||[]).push([[0],[,,,,,,,,,,,,,,,,,function(e,t,a){e.exports=a(33)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),s=a(7),r=a.n(s),c=a(16),l=a(2),o=a(3),u=a(5),h=a(4),p=a(1),b=a(6),m=(a(22),a(23),function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"Grid"},i.a.createElement("div",{className:"Grid-Line"}),i.a.createElement("div",{className:"Grid-Line"}),i.a.createElement("div",{className:"Grid-Line"}),i.a.createElement("div",{className:"Grid-Line"}))}}]),t}(n.Component)),k=(a(24),function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=[];return this.props.data.people.forEach(function(t,a){var n=i.a.createElement("li",{key:"people"+a},t);e.push(n)}),i.a.createElement("div",{className:"Nav"},i.a.createElement("h3",null,this.props.data.title),i.a.createElement("ul",null,e))}}]),t}(n.Component)),d=(a(25),a(26),function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(u.a)(this,Object(h.a)(t).call(this))).state={},e.mouseEnter=e.mouseEnter.bind(Object(p.a)(e)),e.mouseLeave=e.mouseLeave.bind(Object(p.a)(e)),e.click=e.click.bind(Object(p.a)(e)),e}return Object(b.a)(t,e),Object(o.a)(t,[{key:"mouseEnter",value:function(){var e=this.props.text.replace(/ /g,"_").toLowerCase(),t=this.props.currentLink===e?{carousel:!1,currentLink:e}:{carousel:!1,currentLink:e,time:0};this.props.callback(t)}},{key:"mouseLeave",value:function(){if(this.props.selected!==this.props.text){this.props.callback({carousel:!0})}}},{key:"click",value:function(){var e=this.props.text.replace(/ /g,"_").toLowerCase(),t={carousel:!1,gallery:!0,selected:this.props.text,currentLink:e,time:0};this.props.callback(t)}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=["Link"];return this.props.selected===this.props.text&&e.push("selected"),this.props.currentLink===this.props.text.replace(/ /g,"_").toLowerCase()&&e.push("currentLink"),i.a.createElement("span",{className:e.join(" "),onMouseEnter:this.props.isMobile?null:this.mouseEnter,onMouseLeave:this.props.isMobile?null:this.mouseLeave,onClick:this.props.isMobile?null:this.click,onTouchEnd:this.props.isMobile?this.click:null,"data-text":this.props.text},this.props.text)}}]),t}(n.Component)),v=a(8),f=a.n(v),g=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={annotationVisible:!1},a.visibilityChange=a.visibilityChange.bind(Object(p.a)(a)),a}return Object(b.a)(t,e),Object(o.a)(t,[{key:"visibilityChange",value:function(e){var t=this.props.annotations;t["f"+this.props.number].isVisible=e,this.setState(t,function(){})}},{key:"render",value:function(){return i.a.createElement(f.a,{onChange:this.visibilityChange},i.a.createElement("sup",{className:this.state.annotationVisible?"Footnote show":"Footnote"},this.props.number))}}]),t}(n.Component),y=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={annotationVisible:!1},a.visibilityChange=a.visibilityChange.bind(Object(p.a)(a)),a}return Object(b.a)(t,e),Object(o.a)(t,[{key:"visibilityChange",value:function(e){var t={annotationVisible:e};e&&this.setState(t,function(){})}},{key:"render",value:function(){return i.a.createElement(f.a,{onChange:this.visibilityChange},i.a.createElement("h3",{className:this.state.annotationVisible?"show":null},this.props.text))}}]),t}(n.Component),O=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this))).state={content:""},a.callback=a.callback.bind(Object(p.a)(a)),a}return Object(b.a)(t,e),Object(o.a)(t,[{key:"callback",value:function(e){var t=this;this.setState(e,function(){t.props.callback(e)})}},{key:"processData",value:function(){var e=this,t=[];this.linkOrder=[];var a=0;return this.props.data.forEach(function(n,s){var r=n.split(/\{\{|\}\}/g),c=[];r.forEach(function(t,n){var s;if("A"===t.substring(0,1)){var r=t.substring(2);s=i.a.createElement(d,{key:"A"+a,text:r,isMobile:e.props.isMobile,callback:e.callback,currentLink:e.props.currentLink,selected:e.props.selected}),e.linkOrder.push(r.replace(/ /g,"_").toLowerCase())}else s="F"===t.substring(0,1)?i.a.createElement(g,{key:"F"+a,number:t.substring(2),callback:e.callback,annotations:e.props.annotations}):"I"===t.substring(0,1)?i.a.createElement("i",{key:"I"+a},t.substring(2)):"B"===t.substring(0,1)?i.a.createElement("b",{key:"B"+a},t.substring(2)):"H"===t.substring(0,1)?i.a.createElement(y,{key:"H"+a,text:t.substring(2),callback:e.callback}):t;a+=1,c.push(s)}),t.push(i.a.createElement("div",{key:"p"+s},c))}),t}},{key:"componentDidMount",value:function(){this.callback({linkOrder:this.linkOrder,currentLink:this.linkOrder[0]})}},{key:"render",value:function(){return i.a.createElement("div",{className:"Mission"},i.a.createElement("section",null,this.processData()))}}]),t}(n.Component),j=(a(27),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).createAnnotations=a.createAnnotations.bind(Object(p.a)(a)),a}return Object(b.a)(t,e),Object(o.a)(t,[{key:"createAnnotations",value:function(){var e=this,t=[],a=0;return Object.keys(this.props.data).forEach(function(n,s){var r=e.props.data[n].text.split(/\{\{|\}\}/g),c=[];r.forEach(function(e){"I:"===e.substring(0,2)?c.push(i.a.createElement("i",{key:"I"+a},e.substring(2))):"B:"===e.substring(0,2)?c.push(i.a.createElement("b",{key:"B"+a},e.substring(2))):c.push(e),a+=1});var l=i.a.createElement("p",{key:n,className:e.props.data[n].isVisible?"show":null},i.a.createElement("b",{className:"footnote"},s+1),c);t.push(l)}),t}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.createAnnotations();return i.a.createElement("div",{className:"Annotation"},e)}}]),t}(n.Component)),E=(a(28),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this))).state={},a.click=a.click.bind(Object(p.a)(a)),a}return Object(b.a)(t,e),Object(o.a)(t,[{key:"click",value:function(){var e={carousel:!this.props.carousel,gallery:!this.props.gallery,time:0};this.props.callback(e)}},{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(e){var t,a=r.a.findDOMNode(this);a&&(e.data===this.props.data&&e.gallery===this.props.gallery||(clearTimeout(t),a.classList.remove("animation"),t=setTimeout(function(){a.classList.add("animation")},100)))}},{key:"createCaption",value:function(){var e=this.props.caption.split(/\{\{|\}\}/g),t=[];return e.forEach(function(e){"I:"===e.substring(0,2)?t.push(i.a.createElement("i",{key:e.substring(2)},e.substring(2))):"B:"===e.substring(0,2)?t.push(i.a.createElement("b",{key:e.substring(2)},e.substring(2))):t.push(e)}),t}},{key:"render",value:function(){if(this.props.data){var e=this.props.gallery?["svgContainer","show","gallery"]:["svgContainer","show"],t=this.createCaption();return i.a.createElement("section",{className:e.join(" "),onClick:this.click},i.a.createElement("svg",{className:"mobileProg",height:"100",width:"100"},i.a.createElement("circle",{cx:"50",cy:"50",r:"48",strokeWidth:"4",fill:"transparent"}),i.a.createElement("circle",{cx:"50",cy:"50",r:"48",strokeWidth:"4",fill:"transparent"})),i.a.createElement("div",{dangerouslySetInnerHTML:{__html:this.props.data.data}}),i.a.createElement("p",null,t))}return null}}]),t}(n.Component)),L=a(15),C=a(10),M=a.n(C),x=(a(30),{apiKey:"AIzaSyB8gUgZ87qMMtgo_DSRb6OErhmPTRq5clM",authDomain:"cavtah-5dec0.firebaseapp.com",databaseURL:"https://cavtah-5dec0.firebaseio.com",projectId:"cavtah-5dec0",storageBucket:"cavtah-5dec0.appspot.com",messagingSenderId:"460670258985",appId:"1:460670258985:web:b7fd44d23b0da93f"}),N=function(e){function t(){var e;return Object(l.a)(this,t),e=Object(u.a)(this,Object(h.a)(t).call(this)),M.a.initializeApp(x),e.state={currentLink:null,gallery:!1,carousel:!0,annotationVisible:{},linkOrder:null,selected:null,time:0,isMobile:L.isMobile},e.svgs=null,e.callback=e.callback.bind(Object(p.a)(e)),e.startTimer=e.startTimer.bind(Object(p.a)(e)),e.getFirebaseData=e.getFirebaseData.bind(Object(p.a)(e)),e}return Object(b.a)(t,e),Object(o.a)(t,[{key:"getFirebaseData",value:function(){var e=this;M.a.database().ref("/phase1_5").on("value",function(t){var a=t.val();e.setState({firebase:a},function(){e.svgs=e.preloadSVG(),e.startTimer()})})}},{key:"callback",value:function(e){this.setState(e,function(){})}},{key:"startTimer",value:function(){if(this.state.time<1)this.setState({time:this.state.time+.00385});else if(this.state.carousel&&this.state.linkOrder){var e=this.state.linkOrder,t=e.indexOf(this.state.currentLink),a=e[t+1>=e.length?0:t+1];this.setState({time:0,currentLink:this.state.gallery?this.currentLink:a})}requestAnimationFrame(this.startTimer)}},{key:"preloadSVG",value:function(){for(var e={},t=function(){var t=n[a],s=(i=Object(c.a)(t,2))[0],r=i[1];if(r.url.includes("svg")){var l=new XMLHttpRequest;l.open("GET",r.url,!0),l.overrideMimeType("image/svg+xml"),l.onload=function(t){4===l.readyState&&(200===l.status?(e[s]={},e[s].data=l.responseText):console.error(l.statusText))},l.onerror=function(e){console.error(l.statusText)},l.send(null)}else e[s]={},e[s].data='<img src="'+r.url+'"/>'},a=0,n=Object.entries(this.state.firebase.images);a<n.length;a++){var i;t()}return e}},{key:"componentDidMount",value:function(){this.getFirebaseData()}},{key:"render",value:function(){var e=this.state.firebase&&this.svgs?[i.a.createElement(m,{key:"Grid"}),i.a.createElement(k,{key:"Nav",callback:this.callback,data:this.state.firebase.nav}),i.a.createElement(O,{key:"Mission",isMobile:this.state.isMobile,callback:this.callback,data:this.state.firebase.mission,gallery:this.state.gallery,selected:this.state.selected,currentLink:this.state.currentLink,annotations:this.state.firebase.annotations}),i.a.createElement(E,{key:"SVG",isMobile:this.state.isMobile,callback:this.callback,carousel:this.state.carousel,data:this.svgs[this.state.currentLink],currentLink:this.state.currentLink,caption:this.state.currentLink?this.state.firebase.images[this.state.currentLink].caption:"",gallery:this.state.gallery}),i.a.createElement(j,{key:"Annotation",callback:this.callback,data:this.state.firebase.annotations})]:null;return i.a.createElement("div",{className:this.state.gallery?"App gallery":"App"},e)}}]),t}(n.Component);r.a.render(i.a.createElement(N,null),document.getElementById("root"))}],[[17,1,2]]]);
//# sourceMappingURL=main.5665198d.chunk.js.map