{"version":3,"sources":["Grid.js","Nav.js","Link.js","Footnote.js","Header3.js","Mission.js","Annotation.js","svg.js","FirebaseConfig.js","App.js","index.js"],"names":["Grid","className","Component","Nav","listItems","this","props","data","people","forEach","e","i","listItem","key","push","title","Link","state","mouseEnter","bind","mouseLeave","click","linkKey","text","replace","toLowerCase","stateObj","currentLink","carousel","time","callback","selected","gallery","classes","join","onMouseEnter","isMobile","onMouseLeave","onClick","onTouchStart","data-text","Footnote","annotationVisible","visibilityChange","isVisible","annotations","number","setState","onChange","Header3","Mission","content","processedArray","linkOrder","uniqueKey","filteredArray","split","children","f","j","child","substring","linkName","processData","Annotation","createAnnotations","Object","keys","textArray","SVG","oldProps","timeout","DOM_Node","ReactDOM","findDOMNode","clearTimeout","classList","remove","setTimeout","add","caption","createCaption","height","width","cx","cy","r","strokeWidth","fill","dangerouslySetInnerHTML","__html","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","App","Firebase","initializeApp","svgs","startTimer","getFirebaseData","database","ref","once","snapshot","val","firebase","preloadSVG","linkNames","currentID","indexOf","nextArtist","length","requestAnimationFrame","xhrObj","value","url","includes","xhr","XMLHttpRequest","open","overrideMimeType","onload","readyState","status","responseText","console","error","statusText","onerror","send","entries","images","nav","mission","render","document","getElementById"],"mappings":"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","file":"static/js/main.8f9f13ac.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport './Grid.css';\n\nclass Grid extends Component {\n  render() {\n    return (\n      <div className=\"Grid\">\n        <div className=\"Grid-Line\"></div>\n        <div className=\"Grid-Line\"></div>\n        <div className=\"Grid-Line\"></div>\n        <div className=\"Grid-Line\"></div>\n      </div>\n    );\n  }\n}\n\nexport default Grid;\n","import React, { Component } from 'react';\nimport './Nav.css';\n\nclass Nav extends Component {\n  \n  render() {\n    let listItems = []\n    this.props.data.people.forEach((e,i)=>{\n      let listItem = <li key={'people'+i}>{e}</li>\n      listItems.push(listItem)\n    })\n    return (\n      <div className=\"Nav\">  \n       <h3>{this.props.data.title}</h3>\n        <ul>\n          {listItems}\n        </ul>\n      </div>\n    );\n  }\n}\n\nexport default Nav;\n","import React, { Component } from 'react';\nimport './Link.css';\n\nclass Link extends Component {\n  constructor(){\n    super()\n    this.state = {}\n    this.mouseEnter = this.mouseEnter.bind(this)\n    this.mouseLeave = this.mouseLeave.bind(this)\n    this.click = this.click.bind(this)\n  }\n  mouseEnter(){\n    let linkKey = this.props.text.replace(/ /g,\"_\").toLowerCase()\n    let stateObj = (this.props.currentLink === linkKey) ? {\n        carousel:false,\n        currentLink:linkKey,\n      } : {\n        carousel:false,\n        currentLink:linkKey,\n        time:0\n      }\n    this.props.callback(stateObj)\n  }\n  mouseLeave(){\n    if(this.props.selected !== this.props.text){\n      let stateObj = {\n        carousel:true\n      }\n      this.props.callback(stateObj)\n    }\n  }\n  click(){\n    let linkKey = this.props.text.replace(/ /g,\"_\").toLowerCase()\n    let stateObj = {\n        gallery:true,\n        selected:this.props.text,\n        currentLink:linkKey,\n    }\n    this.props.callback(stateObj)\n  }\n  componentDidMount(){\n  }\n  render() {\n    let classes = ['Link']\n    if(this.props.selected === this.props.text){\n      classes.push('selected')\n    }\n    if(this.props.currentLink === this.props.text.replace(/ /g,\"_\").toLowerCase()){\n      classes.push('currentLink')\n    }\n    return (\n      <span \n        className={classes.join(' ')} \n        onMouseEnter={(!this.props.isMobile) ? this.mouseEnter : null} \n        onMouseLeave={(!this.props.isMobile) ? this.mouseLeave : null} \n        onClick={(!this.props.isMobile) ? this.click : null} \n        onTouchStart={(this.props.isMobile) ? this.click : null}\n        data-text={this.props.text}\n      >\n        {this.props.text}\n      </span>\n    );\n  }\n}\n\nexport default Link;\n","import React, { Component } from 'react';\nimport VisibilitySensor from 'react-visibility-sensor'\n\n\nclass Footnote extends Component {\n  constructor(props){\n    super(props)\n    this.state = {\n      annotationVisible:false\n    }\n    this.visibilityChange = this.visibilityChange.bind(this)\n  }\n  visibilityChange(isVisible){\n    let stateObj = this.props.annotations\n    stateObj[\"f\"+this.props.number].isVisible = isVisible\n    this.setState(stateObj,()=>{\n    })\n  }\n  render() {\n    \n    return (\n      <VisibilitySensor onChange={this.visibilityChange}>\n      <sup className={(this.state.annotationVisible) ? \"Footnote show\" : \"Footnote\"}>{this.props.number}</sup>\n      </VisibilitySensor>\n    );\n  }\n}\n\nexport default Footnote;\n","import React, { Component } from 'react';\nimport VisibilitySensor from 'react-visibility-sensor'\n\n\nclass Header3 extends Component {\n  constructor(props){\n    super(props)\n    this.state = {\n      annotationVisible:false\n    }\n    this.visibilityChange = this.visibilityChange.bind(this)\n  }\n  visibilityChange(isVisible){\n    let stateObj = {\n      annotationVisible:isVisible\n    }\n    if(isVisible){\n      this.setState(stateObj,()=>{\n      })\n    }\n  }\n  render() {\n    \n    return (\n      <VisibilitySensor onChange={this.visibilityChange}>\n      <h3 className={(this.state.annotationVisible) ? \"show\" : null}>{this.props.text}</h3>\n      </VisibilitySensor>\n    );\n  }\n}\n\nexport default Header3;\n","import React, { Component } from 'react';\nimport './Mission.css';\nimport Link from './Link.js';\nimport Footnote from './Footnote.js';\nimport Header3 from './Header3.js';\n\n\nclass Mission extends Component {\n  constructor(props){\n    super()\n    this.state = {\n      content:\"\"\n    }\n    this.callback = this.callback.bind(this)\n  }\n  callback(stateObj){\n    this.setState(stateObj,()=>{\n        this.props.callback(stateObj)\n    })\n  }\n  processData(){\n    let processedArray = []\n    this.linkOrder = []\n    let uniqueKey = 0\n    this.props.data.forEach((e,i)=>{\n      let filteredArray = e.split(/\\{\\{|\\}\\}/g); \n      let children = []\n      filteredArray.forEach((f,j)=>{\n        let child\n        if(f.substring(0,2) === 'A:'){\n          let linkName = f.substring(2)\n          child = <Link \n                    key={'A'+uniqueKey} \n                    text={linkName} \n                    isMobile={this.props.isMobile}\n                    callback={this.callback} \n                    currentLink= {this.props.currentLink}\n                    selected={this.props.selected}\n                  />\n          this.linkOrder.push(linkName.replace(/ /g,\"_\").toLowerCase())\n        }else if(f.substring(0,2) === 'F:'){\n          child = <Footnote \n                    key={'F'+uniqueKey} \n                    number={f.substring(2)} \n                    callback={this.callback}\n                    annotations={this.props.annotations}\n                  />\n        }else if(f.substring(0,2) === 'I:'){\n          child = <i key={'I'+uniqueKey}>{f.substring(2)}</i>\n        }\n        else if(f.substring(0,2) === 'B:'){\n          child = <b key={'B'+uniqueKey}>{f.substring(2)}</b>\n        }else if(f.substring(0,2) === 'H:'){\n          child = <Header3 \n                    key={'H'+uniqueKey} \n                    text={f.substring(2)} \n                    callback={this.callback}\n                  />\n        }\n        else{\n          child = f\n        }\n        uniqueKey += 1\n        children.push(child)\n      })\n      processedArray.push(<div key={'p'+i}>{children}</div>)\n    })\n    return(processedArray)\n    // this.setState({content:processedArray})\n  }\n  componentDidMount(){\n    this.callback({\n      linkOrder:this.linkOrder,\n      currentLink:this.linkOrder[0]\n    })\n  }\n  render(){\n    return (\n      <div className={\"Mission\"}>\n        <section>\n          {this.processData()}\n        </section>       \n     </div>\n    );\n  }\n}\n\nexport default Mission;\n","import React, { Component } from 'react';\nimport './Annotation.css';\n\nclass Annotation extends Component {\n  constructor(props){\n    super(props)\n    this.createAnnotations = this.createAnnotations.bind(this)\n    // this.state = props\n  }\n  createAnnotations(){\n    let annotations = []\n    let uniqueKey = 0\n    Object.keys(this.props.data).forEach((e,i)=>{\n      let filteredArray = this.props.data[e].text.split(/\\{\\{|\\}\\}/g); \n      let textArray = []\n      filteredArray.forEach((f)=>{\n        if(f.substring(0,2) === 'I:'){\n          textArray.push(<i key={'I'+uniqueKey}>{f.substring(2)}</i>)\n        }else if(f.substring(0,2) === 'B:'){\n          textArray.push(<b key={'B'+uniqueKey}>{f.substring(2)}</b>)\n        }else{\n          textArray.push(f)\n        }\n        uniqueKey += 1\n      })\n      \n      let child = <p key={e} className={this.props.data[e].isVisible ? 'show' : null}>\n            <b className=\"footnote\">{i+1}</b>\n            {textArray}\n          </p>\n      annotations.push(child)\n    })\n    return annotations\n  }\n  componentDidMount(){\n  }\n  render() {\n    let content = this.createAnnotations()\n    return (\n      <div className={\"Annotation\"}>  \n        {\n          content\n        }\n      </div>\n    );\n  }\n}\n\nexport default Annotation;\n","import React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport './svg.css';\n\nclass SVG extends Component {\n  constructor(props){\n    super()\n    this.state = {\n    };\n    this.click = this.click.bind(this)\n  }\n  click(){\n    let stateObj = {\n        carousel:!this.props.carousel,\n        gallery:!this.props.gallery,\n        time:0\n      }\n    this.props.callback(stateObj)\n  }\n  componentDidMount(){\n    //test passing state to parent\n  }\n  componentDidUpdate(oldProps) {\n    let timeout\n    let DOM_Node = ReactDOM.findDOMNode(this)\n    if(DOM_Node){\n      if(oldProps.data !== this.props.data || oldProps.gallery !== this.props.gallery){\n        clearTimeout(timeout)\n        DOM_Node.classList.remove('animation');\n        timeout = setTimeout(()=>{\n          DOM_Node.classList.add('animation');\n        },100)\n      }\n    }\n  }\n  \n  createCaption(){\n    let filteredArray = this.props.caption.split(/\\{\\{|\\}\\}/g); \n      let textArray = []\n      filteredArray.forEach((f)=>{\n        if(f.substring(0,2) === 'I:'){\n          textArray.push(<i key={f.substring(2)}>{f.substring(2)}</i>)\n        }else if(f.substring(0,2) === 'B:'){\n          textArray.push(<b key={f.substring(2)}>{f.substring(2)}</b>)\n        }else{\n          textArray.push(f)\n        }\n      })\n    return textArray\n  }\n  \n  render() {\n    if(this.props.data){\n      let classes = (this.props.gallery) ? ['svgContainer','show','gallery'] : ['svgContainer','show']\n      let caption = this.createCaption()\n      return (\n        <section className={classes.join(' ')} onClick={this.click}>\n          <svg className=\"mobileProg\" height=\"100\" width=\"100\">\n            <circle cx=\"50\" cy=\"50\" r=\"48\" strokeWidth=\"4\" fill=\"transparent\"/>\n            <circle cx=\"50\" cy=\"50\" r=\"48\" strokeWidth=\"4\" fill=\"transparent\"/>\n          </svg>\n          <div dangerouslySetInnerHTML={{__html: this.props.data.data}}></div>\n          <p>{caption}</p>\n        </section>   \n      );\n    }else{\n      return null\n    }\n  }\n}\n\nexport default SVG;\n","const firebaseConfig = {\n    apiKey: \"AIzaSyB8gUgZ87qMMtgo_DSRb6OErhmPTRq5clM\",\n    authDomain: \"cavtah-5dec0.firebaseapp.com\",\n    databaseURL: \"https://cavtah-5dec0.firebaseio.com\",\n    projectId: \"cavtah-5dec0\",\n    storageBucket: \"cavtah-5dec0.appspot.com\",\n    messagingSenderId: \"460670258985\",\n    appId: \"1:460670258985:web:b7fd44d23b0da93f\"\n  };\n\nexport default firebaseConfig;","import React, { Component } from 'react';\n\nimport './App.css';\nimport Grid from './Grid.js'\nimport Nav from './Nav.js'\nimport Mission from './Mission.js'\nimport Annotation from './Annotation.js'\nimport SVG from './svg.js';\n\nimport {isMobile} from 'react-device-detect';\n\nimport Firebase from 'firebase/app';\nimport 'firebase/database';\nimport firebaseConfig from './FirebaseConfig.js'\n\nclass App extends Component {\n  constructor(){\n    super();\n    Firebase.initializeApp(firebaseConfig);\n    this.state = {\n      currentLink:null,\n      gallery:false,\n      carousel:true,\n      annotationVisible:{},\n      linkOrder:null,\n      selected:null,\n      time: 0,\n      isMobile: isMobile\n    }\n    this.svgs = null\n    this.callback = this.callback.bind(this)\n    this.startTimer = this.startTimer.bind(this)\n    this.getFirebaseData = this.getFirebaseData.bind(this)\n  }\n  \n  getFirebaseData(){\n    let ref = Firebase.database().ref('/phase1');\n    ref.once('value', snapshot => {\n      const state = snapshot.val();\n      this.setState({\n        firebase:state\n      },()=>{\n        this.svgs = this.preloadSVG()\n        this.startTimer()\n      });\n    });\n  }\n  \n  callback(stateObj){\n    this.setState(stateObj,()=>{\n      // console.log(this.state)\n    })\n  }\n  \n  startTimer(){\n    if(this.state.time < 1){\n      this.setState({\n        time: this.state.time + .00385\n      })   \n    }else{\n      if(this.state.carousel && this.state.linkOrder){\n        let linkNames = this.state.linkOrder\n        let currentID = linkNames.indexOf(this.state.currentLink)\n        let nextID = (currentID+1 >= linkNames.length) ? 0 : currentID+1\n        let nextArtist = linkNames[nextID]\n        this.setState({\n          time: 0,\n          currentLink: (!this.state.gallery) ? nextArtist : this.currentLink\n        })\n      }\n    }\n    requestAnimationFrame(this.startTimer)\n  }\n\n  preloadSVG(){\n    let xhrObj = {}\n    for (const [key, value] of Object.entries(this.state.firebase.images)) {\n      if(value.url.includes(\"svg\")){\n        let xhr = new XMLHttpRequest();\n        xhr.open(\"GET\",value.url,true);\n        xhr.overrideMimeType(\"image/svg+xml\");\n        xhr.onload = (e) => {\n          if (xhr.readyState === 4) {\n            if (xhr.status === 200) {\n                xhrObj[key] = {}\n                xhrObj[key].data = xhr.responseText\n            } else {\n              console.error(xhr.statusText);\n            }\n          }\n        };\n        xhr.onerror = function (e) {\n          console.error(xhr.statusText);\n        };\n        xhr.send(null); \n      }else{\n        xhrObj[key]={}\n        xhrObj[key].data = '<img src=\"'+value.url+'\"/>'\n      }\n    }\n    return xhrObj\n  }\n  \n  componentDidMount(){\n    this.getFirebaseData()\n  }\n  \n  render() {\n    let content = (this.state.firebase && this.svgs) ? [\n        <Grid key=\"Grid\"/>,\n        <Nav \n          key=\"Nav\"\n          callback={this.callback} \n          data={this.state.firebase.nav}\n        />,\n        <Mission \n          key=\"Mission\"\n          isMobile={this.isMobile}\n          callback={this.callback} \n          data={this.state.firebase.mission} \n          gallery={this.state.gallery}\n          selected={this.state.selected}\n          currentLink={this.state.currentLink}\n          annotations={this.state.firebase.annotations}\n        />,  \n        <SVG\n          key=\"SVG\"\n          isMobile={this.isMobile}\n          callback={this.callback} \n          carousel={this.state.carousel}\n          data={this.svgs[this.state.currentLink]} \n          currentLink={this.state.currentLink}\n          caption={(this.state.currentLink) ? this.state.firebase.images[this.state.currentLink].caption : null}\n          gallery={this.state.gallery}\n        />,\n        <Annotation \n          key=\"Annotation\"\n          callback={this.callback} \n          data={this.state.firebase.annotations} \n        />\n        ] : null\n    \n    return (\n      <div className={this.state.gallery ? \"App gallery\" : \"App\"}>\n        {content}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}